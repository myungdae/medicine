@prefix :     <http://example.org/nsclc#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd:  <http://www.w3.org/2001/XMLSchema#> .
@prefix owl:  <http://www.w3.org/2002/07/owl#> .
@prefix dc:   <http://purl.org/dc/elements/1.1/> .

##########
# Ontology Metadata
##########
<http://example.org/nsclc> a owl:Ontology ;
  rdfs:label "NSCLC EGFR/ALK Minimal Seed Ontology"@en ;
  rdfs:comment "Evidence-based ontology for NSCLC drug development with EGFR/ALK alterations"@en ;
  owl:versionInfo "2.0" ;
  dc:creator "NSCLC Agentic AI Platform" ;
  dc:date "2026-01-08" ;
  dc:description "This ontology supports the Hydrate-Activate-Recommend pipeline for lung cancer treatment decision support."@en .

##########
# Core Classes
##########
:CancerType a owl:Class ;
  rdfs:label "Cancer Type"@en ;
  rdfs:comment "Represents a specific type of cancer (e.g., NSCLC, SCLC)"@en .

:PatientSubgroup a owl:Class ;
  rdfs:label "Patient Subgroup"@en ;
  rdfs:comment "A patient cohort defined by cancer type and genomic alteration"@en .

:Gene a owl:Class ;
  rdfs:label "Gene"@en ;
  rdfs:comment "A gene that can be targeted or harbor alterations (e.g., EGFR, ALK)"@en .

:Alteration a owl:Class ;
  rdfs:label "Genomic Alteration"@en ;
  rdfs:comment "A specific mutation, deletion, or fusion in a gene (e.g., EGFR exon19 del)"@en .

:Target a owl:Class ;
  rdfs:label "Target"@en ;
  rdfs:comment "A molecular target for drug intervention"@en .

:Compound a owl:Class ;
  rdfs:label "Compound / Drug"@en ;
  rdfs:comment "A pharmaceutical compound or drug candidate"@en .

:MoA a owl:Class ;
  rdfs:label "Mechanism of Action"@en ;
  rdfs:comment "The mechanism by which a drug exerts its effect (e.g., TKI, mAb, ADC)"@en .

:EvidenceItem a owl:Class ;
  rdfs:label "Evidence Item"@en ;
  rdfs:comment "A piece of evidence from literature, clinical trial, or review"@en .

:ClinicalTrial a owl:Class ;
  rdfs:label "Clinical Trial"@en ;
  rdfs:comment "A registered clinical trial (e.g., NCT identifier)"@en .

:Result a owl:Class ;
  rdfs:label "Result / Endpoint Value"@en ;
  rdfs:comment "An observed clinical endpoint or experimental result (ORR, PFS, OS, IC50)"@en .

##########
# Agentic Decision-Flow Classes
# (Minimal hooks; full model in file 04)
##########
:ActionProposal a owl:Class ;
  rdfs:label "Action Proposal"@en ;
  rdfs:comment "A proposed action generated by reasoning engine or human curator"@en .

:ApprovalRequest a owl:Class ;
  rdfs:label "Approval Request"@en ;
  rdfs:comment "A request for approval of a proposed action"@en .

:ApprovalDecision a owl:Class ;
  rdfs:label "Approval Decision"@en ;
  rdfs:comment "A decision (Approve/Reject/Hold) on an approval request"@en .

:Execution a owl:Class ;
  rdfs:label "Execution"@en ;
  rdfs:comment "The execution record of an approved proposal"@en .

##########
# Object Properties
##########

# Patient Subgroup Relations
:hasCancerType a owl:ObjectProperty ;
  rdfs:label "has cancer type"@en ;
  rdfs:comment "Links a patient subgroup to its cancer type"@en ;
  rdfs:domain :PatientSubgroup ;
  rdfs:range :CancerType .

:hasAlteration a owl:ObjectProperty ;
  rdfs:label "has alteration"@en ;
  rdfs:comment "Links a patient subgroup to its genomic alteration"@en ;
  rdfs:domain :PatientSubgroup ;
  rdfs:range :Alteration .

:inGene a owl:ObjectProperty ;
  rdfs:label "alteration in gene"@en ;
  rdfs:comment "Specifies which gene contains the alteration"@en ;
  rdfs:domain :Alteration ;
  rdfs:range :Gene .

# Drug/Compound Relations
:targets a owl:ObjectProperty ;
  rdfs:label "targets gene"@en ;
  rdfs:comment "Indicates which gene the drug targets"@en ;
  rdfs:domain :Compound ;
  rdfs:range :Gene .

:hasMoA a owl:ObjectProperty ;
  rdfs:label "has mechanism of action"@en ;
  rdfs:comment "Links a compound to its mechanism of action"@en ;
  rdfs:domain :Compound ;
  rdfs:range :MoA .

# Evidence & Result Relations
:reportedIn a owl:ObjectProperty ;
  rdfs:label "reported in"@en ;
  rdfs:comment "Links a result to the evidence item that reported it"@en ;
  rdfs:domain :Result ;
  rdfs:range :EvidenceItem .

:aboutCancerType a owl:ObjectProperty ;
  rdfs:label "about cancer type"@en ;
  rdfs:comment "Specifies which cancer type the result pertains to"@en ;
  rdfs:domain :Result ;
  rdfs:range :CancerType .

:aboutSubgroup a owl:ObjectProperty ;
  rdfs:label "about patient subgroup"@en ;
  rdfs:comment "Specifies which patient subgroup the result pertains to"@en ;
  rdfs:domain :Result ;
  rdfs:range :PatientSubgroup .

:aboutDrug a owl:ObjectProperty ;
  rdfs:label "about drug"@en ;
  rdfs:comment "Specifies which drug the result evaluates"@en ;
  rdfs:domain :Result ;
  rdfs:range :Compound .

:hasTrial a owl:ObjectProperty ;
  rdfs:label "has trial"@en ;
  rdfs:comment "Links evidence to a clinical trial"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range :ClinicalTrial .

##########
# Datatype Properties
##########

# Result Properties
:metric a owl:DatatypeProperty ;
  rdfs:label "metric"@en ;
  rdfs:comment "The type of endpoint measured (ORR, PFS, OS, IC50)"@en ;
  rdfs:domain :Result ;
  rdfs:range xsd:string .

:value a owl:DatatypeProperty ;
  rdfs:label "value"@en ;
  rdfs:comment "The numeric value of the result"@en ;
  rdfs:domain :Result ;
  rdfs:range xsd:decimal .

:unit a owl:DatatypeProperty ;
  rdfs:label "unit"@en ;
  rdfs:comment "The unit of measurement (%, months, nM, uM)"@en ;
  rdfs:domain :Result ;
  rdfs:range xsd:string .

:resultNote a owl:DatatypeProperty ;
  rdfs:label "result note"@en ;
  rdfs:comment "Additional context for the result (cutoff date, follow-up duration, etc.)"@en ;
  rdfs:domain :Result ;
  rdfs:range xsd:string .

# Compound Properties
:lineOfTherapy a owl:DatatypeProperty ;
  rdfs:label "line of therapy"@en ;
  rdfs:comment "Treatment line (1L, 2L, 3L+)"@en ;
  rdfs:domain :Compound ;
  rdfs:range xsd:string .

:compoundName a owl:DatatypeProperty ;
  rdfs:label "compound name"@en ;
  rdfs:comment "The official or common name of the compound"@en ;
  rdfs:domain :Compound ;
  rdfs:range xsd:string .

# Evidence Properties
:evidenceType a owl:DatatypeProperty ;
  rdfs:label "evidence type"@en ;
  rdfs:comment "Type of evidence (Paper, TrialSummary, Review, Preprint)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:evidenceLevel a owl:DatatypeProperty ;
  rdfs:label "evidence level"@en ;
  rdfs:comment "Quality level of evidence (High, Medium, Low)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:sourceDate a owl:DatatypeProperty ;
  rdfs:label "source date"@en ;
  rdfs:comment "Publication or summary date of the evidence"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:date .

:doi a owl:DatatypeProperty ;
  rdfs:label "DOI"@en ;
  rdfs:comment "Digital Object Identifier"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:sourceUrl a owl:DatatypeProperty ;
  rdfs:label "source URL"@en ;
  rdfs:comment "URL to the original source"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:anyURI .

:abstractText a owl:DatatypeProperty ;
  rdfs:label "abstract text"@en ;
  rdfs:comment "The abstract or summary text of the evidence"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:methodsText a owl:DatatypeProperty ;
  rdfs:label "methods text"@en ;
  rdfs:comment "Methods, notes, or additional context"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:authorsOrOrg a owl:DatatypeProperty ;
  rdfs:label "authors or organization"@en ;
  rdfs:comment "Author names or sponsoring organization"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:venue a owl:DatatypeProperty ;
  rdfs:label "venue"@en ;
  rdfs:comment "Journal name or conference (e.g., NEJM, ASCO)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:peerReviewed a owl:DatatypeProperty ;
  rdfs:label "peer reviewed"@en ;
  rdfs:comment "Whether the evidence is peer-reviewed (true/false/unknown)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:confidence a owl:DatatypeProperty ;
  rdfs:label "confidence"@en ;
  rdfs:comment "Confidence level (High, Medium, Low)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:limitations a owl:DatatypeProperty ;
  rdfs:label "limitations"@en ;
  rdfs:comment "Known limitations or caveats of the evidence"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:funding a owl:DatatypeProperty ;
  rdfs:label "funding"@en ;
  rdfs:comment "Funding source (Pharma, Public, Unknown)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

:conflictOfInterest a owl:DatatypeProperty ;
  rdfs:label "conflict of interest"@en ;
  rdfs:comment "Whether conflicts of interest exist (true/false/unknown)"@en ;
  rdfs:domain :EvidenceItem ;
  rdfs:range xsd:string .

# Clinical Trial Properties
:trialId a owl:DatatypeProperty ;
  rdfs:label "trial ID"@en ;
  rdfs:comment "Clinical trial identifier (e.g., NCT01234567)"@en ;
  rdfs:domain :ClinicalTrial ;
  rdfs:range xsd:string .

##########
# Rule Output Properties
# (These are populated by SWRL rules)
##########
:recommendedForSubgroup a owl:ObjectProperty ;
  rdfs:label "recommended for subgroup"@en ;
  rdfs:comment "Generated recommendation: drug is recommended for this subgroup"@en ;
  rdfs:domain :Compound ;
  rdfs:range :PatientSubgroup .

:highPriority a owl:DatatypeProperty ;
  rdfs:label "high priority"@en ;
  rdfs:comment "Flag indicating drug is high priority based on efficacy"@en ;
  rdfs:domain :Compound ;
  rdfs:range xsd:boolean .

:needsReview a owl:DatatypeProperty ;
  rdfs:label "needs review"@en ;
  rdfs:comment "Flag indicating result needs human review (data quality issue)"@en ;
  rdfs:domain :Result ;
  rdfs:range xsd:boolean .

:topCandidate a owl:DatatypeProperty ;
  rdfs:label "top candidate"@en ;
  rdfs:comment "Flag indicating drug is a top candidate (multiple high-quality evidence)"@en ;
  rdfs:domain :Compound ;
  rdfs:range xsd:boolean .

:suggestTrialFollowup a owl:ObjectProperty ;
  rdfs:label "suggest trial follow-up"@en ;
  rdfs:comment "Suggests following up with a specific trial"@en ;
  rdfs:domain :Compound ;
  rdfs:range :ClinicalTrial .

##########
# Seed Instances (NSCLC + EGFR/ALK baseline)
##########

# Cancer Types
:NSCLC a :CancerType ;
  rdfs:label "NSCLC"@en ;
  rdfs:comment "Non-Small Cell Lung Cancer"@en .

# Genes
:EGFR a :Gene ;
  rdfs:label "EGFR"@en ;
  rdfs:comment "Epidermal Growth Factor Receptor"@en .

:ALK a :Gene ;
  rdfs:label "ALK"@en ;
  rdfs:comment "Anaplastic Lymphoma Kinase"@en .

# Alterations
:EGFR_ex19del a :Alteration ;
  rdfs:label "EGFR exon19 del"@en ;
  rdfs:comment "EGFR exon 19 deletion"@en ;
  :inGene :EGFR .

:EGFR_L858R a :Alteration ;
  rdfs:label "EGFR L858R"@en ;
  rdfs:comment "EGFR L858R point mutation"@en ;
  :inGene :EGFR .

:ALK_fusion a :Alteration ;
  rdfs:label "ALK fusion"@en ;
  rdfs:comment "ALK gene fusion (e.g., EML4-ALK)"@en ;
  :inGene :ALK .

# Patient Subgroups
:NSCLC_EGFR_ex19del a :PatientSubgroup ;
  rdfs:label "NSCLC + EGFR exon19 del"@en ;
  rdfs:comment "NSCLC patients with EGFR exon 19 deletion"@en ;
  :hasCancerType :NSCLC ;
  :hasAlteration :EGFR_ex19del .

:NSCLC_EGFR_L858R a :PatientSubgroup ;
  rdfs:label "NSCLC + EGFR L858R"@en ;
  rdfs:comment "NSCLC patients with EGFR L858R mutation"@en ;
  :hasCancerType :NSCLC ;
  :hasAlteration :EGFR_L858R .

:NSCLC_ALK_fusion a :PatientSubgroup ;
  rdfs:label "NSCLC + ALK fusion"@en ;
  rdfs:comment "NSCLC patients with ALK fusion"@en ;
  :hasCancerType :NSCLC ;
  :hasAlteration :ALK_fusion .

# Mechanism of Actions
:TKI a :MoA ;
  rdfs:label "TKI"@en ;
  rdfs:comment "Tyrosine Kinase Inhibitor"@en .

:mAb a :MoA ;
  rdfs:label "mAb"@en ;
  rdfs:comment "Monoclonal Antibody"@en .

:ADC a :MoA ;
  rdfs:label "ADC"@en ;
  rdfs:comment "Antibody-Drug Conjugate"@en .
